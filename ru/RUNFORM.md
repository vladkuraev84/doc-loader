## Загрузчик Виджет-формы (Widget Form Loader) (src/index.ts)

_src/index.ts_
 
> Файл является частью веб-приложения и отвечает за загрузку и инициализацию виджета-формы. Являетсмя главным файлом для сбора классов.

### Импорт Модулей

Импортированные модули:

- **StyleInjector**: Класс, отвечающий за подключение стилей в приложение.
- **FormWorker**: Класс, предназначенный для работы с HTML-формами.
- **ParamsWorker**: Класс, обрабатывающий параметры форм.
- **Informator**: Класс, предоставляющий информацию для приложения: адрес(URL) размещения бандла и файлы из **forms-jsons**(`scheme и locales`).
- **Bridge**: Класс, предназначен для сохранения данных в localStorage.
- **BundleInjector**: Класс, отвечающий за формирование, подключение и валидацию бандлов (пакетов).
- **ModulesLoader**: Класс, загружающий модули согласно схемы(`scheme`).
- **DomLoader**: Класс, загружающий файлы DOM(`js и style` в `div id='my-id'`).
- **SchemesController**: Класс, управляющий схемой.

Также импортируются различные типы данных из файлов **./types/common.types**, **./classes/informator/types**, **./classes/form-worker**, и **./classes/scheme.types**. Эти типы данных используются для аннотации переменных и параметров функций.

### Класс Загрузчика Виджет-Формы (WDFL)

Данный класс **WDFL** представляет собой загрузчик виджет-формы и содержит статический метод **`run()`**, который выполняет последовательность действий для загрузки и инициализации виджета-формы:

1. **Получение HTML-форм**: Метод **`FormWorker.getForms()`** получает все HTML-формы на странице и сохраняет их в переменной **`forms`**.
2. **Извлечение Параметров Форм**: Для каждой формы извлекаются параметры с использованием метода **`ParamsWorker.get(form)`**. Полученные параметры сохраняются в массив **`formsParams`** путем добавления с помощью метода массива **`push`**.
3. **Проверка Параметров**: Параметры проверяются на валидность с помощью метода **`ParamsWorker.validate(params)`**. Если параметры не проходят проверку, возникающие ошибки выводятся в консоль.
4. **Инициализация Информатора**: Создается экземпляр класса **`Informator`**, который инициализируется с массивом параметров **`formsParams`**.
5. **Загрузка Файлов с Информацией**: Метод **`informator.download()`** загружает необходимые файлы и информацию. Результат загрузки сохраняется в массив **`groupedFiles`**.
6. **Отправка Группированных Файлов**: Группированные файлы отправляются с помощью **`Bridge.send(groupedFiles)`** для дальнейшего сохранения в LocalStorage.
7. **Инициализация Контейнера для Файлов DOM**: Вызывается метод **`DomLoader.initFilesContainer()`** для инициализации контейнера, предназначенного для загрузки файлов **DOM** в `div id='config.filesContainerId'`.
8. **Инициализация Схем и Модулей**: Создаются экземпляры классов **`SchemesController`** и **`ModulesLoader`** для управления схемами и загрузкой модулей, соответственно. Схемы передаются в **`SchemesController`**.
9. **Внедрение Бандлов и Стилей**: Создаются экземпляры классов **`BundleInjector`** и **`StyleInjector`**, которые инициализируются с параметрами форм.

### Запуск Загрузчика Виджет-Формы

Последняя строка кода **`WDFL.run().catch(e => console.error(e))`** вызывает метод **`run()`** класса **`WDFL`**, что начинает процесс загрузки и инициализации виджета-формы. Любые ошибки, возникающие во время этого процесса, будут выведены в консоль с помощью **`console.error(e)`**.

Этот файл представляет собой центральную часть приложения для загрузки виджета-формы и включает в себя обработку форм, загрузку данных и модулей, а также подключение стилей и бандлов.

