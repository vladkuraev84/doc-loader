
<div class="copy-block-wr">
    <span>https: </span>
    <div class="copy-block">
        <code> git@github.com:next-form-js/loader.git </code>
        <button>Copy</button>
    </div>
</div>

<script>
  // get the list of all highlight code blocks
  const highlights = document.querySelectorAll("div.copy-block")

  highlights.forEach(div => {
    const btn = div.querySelector("button");
    btn.addEventListener("click", copyToClipboard)
  })

  function copyToClipboard(evt) {
    const { children } = evt.target.parentElement;
    const { innerHTML } = Array.from(children)[0];

    if (window.clipboardData && window.clipboardData.setData) {
      // IE specific code path to prevent textarea being shown while dialog is visible.
      return clipboardData.setData("Text", innerHTML);
    } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
      const storage = document.createElement('textarea');
      storage.value = innerHTML;
      children[0].appendChild(storage);

      storage.select();
      storage.setSelectionRange(0, 99999);
      // document.execCommand('copy');

      try {
        alert(innerHTML);
        return document.execCommand("copy");
      } catch (e) {
        console.warn("Copy to clipboard failed.", e);
        return false;
      } finally {
        children[0].removeChild(storage);
      }
    }
  }

  /*document.querySelector("#copy").onclick = function(evt) {
    copyToClipboard(evt);
  };*/
</script>
